{"version":3,"sources":["webpack:///src/app/PAGES_ASSO/asso-set-marker/asso-map.page.html","webpack:///src/app/PAGES_ASSO/asso-set-marker/asso-map-routing.module.ts","webpack:///src/app/PAGES_ASSO/asso-set-marker/asso-map.module.ts","webpack:///src/app/PAGES_ASSO/asso-set-marker/asso-map.page.scss","webpack:///src/app/PAGES_ASSO/asso-set-marker/asso-map.page.ts"],"names":["routes","path","component","AssoMapPageRoutingModule","imports","forChild","exports","AssoMapPageModule","declarations","AssoMapPage","Afs","router","route","dataEvent","geolat","geolng","map","remove","createMap","center","zoom","renderer","attribution","minZoom","maxZoom","addTo","addHomeMarker","setTimeout","invalidateSize","homeMarker","lat","lng","draggable","recepData","console","log","queryParams","subscribe","params","getCurrentNavigation","extras","state","getLatLng","navigationExtras","navigate","selector","template"],"mappings":"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","file":"PAGES_ASSO-asso-set-marker-asso-map-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>OÃ¹ se trouve votre Event?</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n    <ion-button (click)=\\\"GoandPass()\\\" color=\\\"primary\\\">OK</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div id=\\\"map\\\" ></div>\\n \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AssoMapPage } from './asso-map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AssoMapPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AssoMapPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AssoMapPageRoutingModule } from './asso-map-routing.module';\n\nimport { AssoMapPage } from './asso-map.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AssoMapPageRoutingModule\n  ],\n  declarations: [AssoMapPage]\n})\nexport class AssoMapPageModule {}\n","export default \"#map {\\n  min-height: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvQzpcXFVzZXJzXFxVdGlsaXNhdGV1clxcdW5pYmVlL3NyY1xcYXBwXFxQQUdFU19BU1NPXFxhc3NvLXNldC1tYXJrZXJcXGFzc28tbWFwLnBhZ2Uuc2NzcyIsInNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvYXNzby1tYXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCO0FDQ3BCIiwiZmlsZSI6InNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvYXNzby1tYXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcHtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbiAgfVxyXG4iLCIjbWFwIHtcbiAgbWluLWhlaWdodDogMTAwJTtcbn1cbiJdfQ== */\";","import { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { switchMap } from 'rxjs/operators';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\nimport { Component, AfterViewInit } from '@angular/core';\nimport * as L from 'leaflet'\nimport { Subject } from 'rxjs';\n\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport \"leaflet/dist/images/marker-icon.png\";\nimport \"leaflet/dist/images/marker-icon-2x.png\";\n\n@Component({\n  selector: 'app-asso-map',\n  templateUrl: './asso-map.page.html',\n  styleUrls: ['./asso-map.page.scss'],\n})\n\n\n\nexport class AssoMapPage implements AfterViewInit {\n  map: L.Map\n  homeMarker\n\n  dataEvent = {\n    geolat: '',\n    geolng:''\n  }\n\n  constructor(private Afs: AngularFirestore, private router: Router, private route: ActivatedRoute) { }\n\n  ngAfterViewInit() {\n    //this.createMap();\n    if(this.map)this.map.remove();\n    this.createMap();\n  }\n\n  createMap() {\n    this.map = L.map('map', {\n      center: [48.298246, 4.078672],\n      zoom: 12,\n      renderer: L.canvas()\n    })\n\n    L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'donn&eacute;es &copy; <a href=\"//osm.org/copyright\">OpenStreetMap</a>/ODbL - rendu <a href=\"//openstreetmap.fr\">OSM France</a>',\n      minZoom: 1,\n      maxZoom: 20\n    }).addTo(this.map);\n\n    this.addHomeMarker()\n\n\n\n    // force map to resize on init\n    setTimeout(() => {\n      this.map.invalidateSize();\n    }, 0);\n  }\n\n  addHomeMarker() {\n    this.homeMarker = L.marker({ lat: 48.3, lng: 4.0833 }, { draggable: true })\n\n    this.homeMarker.addTo(this.map)\n    \n    this.recepData()\n\n  }\n\n  // receptionner dataUser\n  recepData() {\n    console.log('recepdataUser')\n    this.route.queryParams.subscribe(params => {\n      console.log('params:', params);\n      console.log(\"recep\")\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.dataEvent = this.router.getCurrentNavigation().extras.state.dataEvent;\n        console.log(this.dataEvent)\n      }\n    })\n  }\n\n\n  // go to other page and pass dataUser\nGoandPass(){\n  this.dataEvent.geolat = this.homeMarker.getLatLng().lat\n  this.dataEvent.geolng =  this.homeMarker.getLatLng().lng\n  let navigationExtras: NavigationExtras ={\n    state: {\n      dataEvent: this.dataEvent\n    }\n  }\n  this.router.navigate(['/tabs/tab3'], navigationExtras);\n }\n\n\n\n\n}\n"]}