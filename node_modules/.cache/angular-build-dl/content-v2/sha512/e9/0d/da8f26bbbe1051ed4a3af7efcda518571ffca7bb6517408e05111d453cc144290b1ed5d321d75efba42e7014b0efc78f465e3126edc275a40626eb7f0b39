{"version":3,"sources":["./src/app/PAGES_BENE/bene-register/bene-register.page.html","./src/app/PAGES_BENE/bene-register/bene-register-routing.module.ts","./src/app/PAGES_BENE/bene-register/bene-register.module.ts","./src/app/PAGES_BENE/bene-register/bene-register.page.scss","./src/app/PAGES_BENE/bene-register/bene-register.page.ts"],"names":[],"mappings":"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","file":"PAGES_BENE-bene-register-bene-register-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>beneRegister</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item>\\n    <ion-label>E-mail</ion-label>\\n    <ion-input type=\\\"email\\\" [(ngModel)]=\\\"dataUser.email\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Mot de passe</ion-label>\\n    <ion-input type=\\\"password\\\" [(ngModel)]=\\\"dataUser.password\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Nom</ion-label>\\n    <ion-input [(ngModel)]=\\\"dataUser.nom\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-button (click)='btncreercompte()' >Créer Mon Compte</ion-button>\\n  <ion-button href=\\\"asso-login\\\" color=\\\"secondary\\\">Déja inscit ? Se Connecter</ion-button>\\n  \\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BeneRegisterPage } from './bene-register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BeneRegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BeneRegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BeneRegisterPageRoutingModule } from './bene-register-routing.module';\n\nimport { BeneRegisterPage } from './bene-register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BeneRegisterPageRoutingModule\n  ],\n  declarations: [BeneRegisterPage]\n})\nexport class BeneRegisterPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL1BBR0VTX0JFTkUvYmVuZS1yZWdpc3Rlci9iZW5lLXJlZ2lzdGVyLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Observable, from } from 'rxjs';\nimport { ImageCroppedEvent, ImageCropperComponent, ImageTransform } from 'ngx-image-cropper';\nimport { Crop } from '@ionic-native/crop/ngx';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { LoadingController, AlertController } from '@ionic/angular';\n// Pass data between pages\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router'\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Component({\n  selector: 'app-bene-register',\n  templateUrl: './bene-register.page.html',\n  styleUrls: ['./bene-register.page.scss'],\n})\nexport class BeneRegisterPage implements OnInit {\n  logo = 'https://www.kasterencultuur.nl/editor/placeholder.jpg';\n\n  imagePath: string;\n  imageUrl: string;\n  upload: any;\n  currentUserId: string;\n  loading: any;\n\n\n  @ViewChild(ImageCropperComponent, { static: false }) angularCropper: ImageCropperComponent;\n  constructor(\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    public afSG: AngularFireStorage,\n    public afAuth: AngularFireAuth,\n    private Afs: AngularFirestore,\n    private camera: Camera,\n    private crop: Crop,\n    public router: Router,\n    private route: ActivatedRoute,\n  ) {\n    this.afAuth.authState.subscribe(auth => { });\n\n  }\n\n  ngOnInit() {\n  }\n  // data to pass to crop page\n  dataUser = {\n    email: '',\n    password: '',\n    nom: '',\n  };\n\n  // creer compte requiert nom + email + mdp bien formatés\n  btncreercompte() {\n    console.log('OK');\n    let length = this.dataUser.password.length\n    console.log(length)\n    if (this.dataUser.nom == '') { this.presentAlert('Entrez un nom') }\n    else if (!this.dataUser.email) { this.presentAlert('Entrez un email') }\n    else if (length < 6) { this.presentAlert('Le mot de passe doit comporter au moins 6 caractéres') }\n    else {\n      this.afAuth.createUserWithEmailAndPassword(this.dataUser.email, this.dataUser.password)\n        .then(success => {\n          this.presentLoading('Création du compte');\n          this.uploadFirestore();\n        }, (error) => {\n          console.log('Email ou mot de passe mal formaté');\n          this.presentAlert('Email non valide')\n        }\n        );\n    }\n\n  }\n\n\n\n\n\n  uploadFirestore() {\n    //recup info auth\n    this.afAuth.authState.subscribe(auth => {\n      this.currentUserId = auth.uid;\n      console.log(\"firestore:   \" + this.currentUserId)\n      this.Afs.collection(\"privatebene\").doc(this.currentUserId).set({\n        name: this.dataUser.nom,\n      }, { merge: true })\n        .then(sucess => {\n          this.deleteLoading()\n          this.router.navigate(['/bene-tabs/bene-list']);\n        })\n        .catch((error) => {\n          console.error(\"Error writing document: \", error);\n        });\n    });\n  }\n\n\n  // ALERTS\n  async presentLoading(message: string) {\n    this.loading = await this.loadingController.create({ message })\n    return this.loading.present();\n  }\n\n  async deleteLoading() {\n    const loader = this.loadingController.getTop();\n    (await loader).parentNode.removeChild(await loader);\n\n  }\n\n\n  async presentAlert(message) {\n    const alert = await this.alertController.create({\n\n      message: message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}