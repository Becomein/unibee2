{"version":3,"sources":["./src/app/PAGES_ASSO/asso-set-marker/asso-map.page.html","./src/app/PAGES_ASSO/asso-set-marker/asso-map-routing.module.ts","./src/app/PAGES_ASSO/asso-set-marker/asso-map.module.ts","./src/app/PAGES_ASSO/asso-set-marker/asso-map.page.scss","./src/app/PAGES_ASSO/asso-set-marker/asso-map.page.ts"],"names":[],"mappings":"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","file":"PAGES_ASSO-asso-set-marker-asso-map-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>OÃ¹ se trouve votre Event?</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n    <ion-button (click)=\\\"GoandPass()\\\" color=\\\"primary\\\">OK</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n    <div id=\\\"map\\\" ></div>\\n \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AssoMapPage } from './asso-map.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AssoMapPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AssoMapPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AssoMapPageRoutingModule } from './asso-map-routing.module';\n\nimport { AssoMapPage } from './asso-map.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AssoMapPageRoutingModule\n  ],\n  declarations: [AssoMapPage]\n})\nexport class AssoMapPageModule {}\n","export default \"#map {\\n  min-height: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvQzpcXFVzZXJzXFxVdGlsaXNhdGV1clxcdW5pYmVlL3NyY1xcYXBwXFxQQUdFU19BU1NPXFxhc3NvLXNldC1tYXJrZXJcXGFzc28tbWFwLnBhZ2Uuc2NzcyIsInNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvYXNzby1tYXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQWdCO0FDQ3BCIiwiZmlsZSI6InNyYy9hcHAvUEFHRVNfQVNTTy9hc3NvLXNldC1tYXJrZXIvYXNzby1tYXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcHtcclxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbiAgfVxyXG4iLCIjbWFwIHtcbiAgbWluLWhlaWdodDogMTAwJTtcbn1cbiJdfQ== */\";","import { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { switchMap } from 'rxjs/operators';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\nimport { Component, AfterViewInit } from '@angular/core';\nimport * as L from 'leaflet'\nimport { Subject } from 'rxjs';\n\nimport \"leaflet/dist/images/marker-shadow.png\";\nimport \"leaflet/dist/images/marker-icon.png\";\nimport \"leaflet/dist/images/marker-icon-2x.png\";\n\n@Component({\n  selector: 'app-asso-map',\n  templateUrl: './asso-map.page.html',\n  styleUrls: ['./asso-map.page.scss'],\n})\n\n\n\nexport class AssoMapPage implements AfterViewInit {\n  map: L.Map\n  homeMarker\n\n  dataEvent = {\n    geolat: '',\n    geolng:''\n  }\n\n  constructor(private Afs: AngularFirestore, private router: Router, private route: ActivatedRoute) { }\n\n  ngAfterViewInit() {\n    //this.createMap();\n    if(this.map)this.map.remove();\n    this.createMap();\n  }\n\n  createMap() {\n    this.map = L.map('map', {\n      center: [48.298246, 4.078672],\n      zoom: 12,\n      renderer: L.canvas()\n    })\n\n    L.tileLayer('//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'donn&eacute;es &copy; <a href=\"//osm.org/copyright\">OpenStreetMap</a>/ODbL - rendu <a href=\"//openstreetmap.fr\">OSM France</a>',\n      minZoom: 1,\n      maxZoom: 20\n    }).addTo(this.map);\n\n    this.addHomeMarker()\n\n\n\n    // force map to resize on init\n    setTimeout(() => {\n      this.map.invalidateSize();\n    }, 0);\n  }\n\n  addHomeMarker() {\n    this.homeMarker = L.marker({ lat: 48.3, lng: 4.0833 }, { draggable: true })\n\n    this.homeMarker.addTo(this.map)\n    \n    this.recepData()\n\n  }\n\n  // receptionner dataUser\n  recepData() {\n    console.log('recepdataUser')\n    this.route.queryParams.subscribe(params => {\n      console.log('params:', params);\n      console.log(\"recep\")\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.dataEvent = this.router.getCurrentNavigation().extras.state.dataEvent;\n        console.log(this.dataEvent)\n      }\n    })\n  }\n\n\n  // go to other page and pass dataUser\nGoandPass(){\n  this.dataEvent.geolat = this.homeMarker.getLatLng().lat\n  this.dataEvent.geolng =  this.homeMarker.getLatLng().lng\n  let navigationExtras: NavigationExtras ={\n    state: {\n      dataEvent: this.dataEvent\n    }\n  }\n  this.router.navigate(['/tabs/tab3'], navigationExtras);\n }\n\n\n\n\n}\n"],"sourceRoot":"webpack:///"}